@for(post of posts; track $index) {
  <div class="card post-card mb-3 shadow-sm">
    <div class="card-body d-flex align-items-start">
      <div class="rounded-circle bg-primary text-white d-flex align-items-center justify-content-center mr-3"
           style="width: 60px; height: 60px;">
        <mat-icon style="width: 40px; height: 40px; font-size: 40px;">account_circle</mat-icon>
      </div>
      <div class="w-75" style="margin-left: 20px;">
        <div class="d-flex justify-content-between mb-2">
          <div>
            <h5 class="card-title font-weight-bold mb-1">Usuario
              <mat-icon color="primary">check_circle</mat-icon>
            </h5>
            <p class="text-muted mb-1"><small>{{ post.created_at | date:'longDate' }}</small></p>
          </div>
        </div>
        <p class="card-text text-dark">{{ post.description }}</p>
        <div class="d-flex justify-content-between align-items-center mt-3">
          <div class="d-flex">
            <button class="btn btn-light btn-sm mr-2"><mat-icon>thumb_up</mat-icon></button>
            <!-- Botón para ver comentarios -->
            <button class="btn btn-light btn-sm mr-2 d-flex align-items-center" (click)="toggleComments(post)"><mat-icon>visibility</mat-icon> Ver Comentarios</button>
            <!-- Botón para crear comentario -->
              <button *ngIf="user.typeuser == '1'" class="btn btn-light btn-sm mr-2 d-flex align-items-center" (click)="openDialog(post)"><mat-icon>comment</mat-icon> Comentar</button>

            <button class="btn btn-light btn-sm"><mat-icon>bookmark</mat-icon></button>
          </div>
        </div>

        <div *ngIf="commentsVisibility[post.id]" class="mt-3">
          <div class="card bg-light mb-2" *ngIf="post.comments?.length == 0">
            <div class="card-body">
              <p class="card-text">Sin comentarios disponibles</p>
            </div>
          </div>
          <div *ngFor="let comment of post.comments">
            <div class="card bg-light mb-2">
              <div class="card-body">
                <p class="card-text">{{ comment.description }}</p>
                <p class="text-muted mb-0"><small>{{ comment.created_at | date:'short' }}</small></p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
}
